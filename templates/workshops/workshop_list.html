{% extends 'base.html' %}
{% load static %}

{% block title %}Workshop List - Titanium Science Club{% endblock %}

{% block extra_css %}
<style>
    .hero {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 1.5rem;
        padding: 4rem 2rem;
        margin-bottom: 3rem;
        position: relative;
        overflow: hidden;
    }

    .hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="rgba(255,255,255,0.1)" d="M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,112C672,96,768,96,864,112C960,128,1056,160,1152,165.3C1248,171,1344,149,1392,138.7L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>') no-repeat bottom;
        background-size: cover;
        opacity: 0.3;
    }

    .hero-title {
        color: white;
        position: relative;
        z-index: 1;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }

    .hero-subtitle {
        color: rgba(255, 255, 255, 0.95);
        position: relative;
        z-index: 1;
    }

    .workshop-card {
        background: white;
        border: none;
        border-radius: 1.25rem;
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        overflow: hidden;
        position: relative;
    }

    .workshop-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 5px;
        background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
    }

    .workshop-card:hover {
        transform: translateY(-8px) scale(1.02);
        box-shadow: 0 20px 40px rgba(102, 126, 234, 0.25);
    }

    .workshop-header {
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        padding: 1.5rem;
        border-bottom: 1px solid var(--gray-100);
    }

    .workshop-title {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        font-weight: 800;
    }

    .workshop-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.375rem;
        padding: 0.375rem 0.875rem;
        border-radius: 2rem;
        font-size: 0.75rem;
        font-weight: 700;
        letter-spacing: 0.025em;
        text-transform: uppercase;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        backdrop-filter: blur(10px);
    }

    .workshop-badge.free {
        background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
        color: #065f46;
    }

    .workshop-badge.paid {
        background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        color: #7c2d12;
    }

    .workshop-badge.slots {
        background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        color: #064e3b;
    }

    .workshop-badge.full {
        background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
        color: #991b1b;
    }

    .workshop-detail {
        display: flex;
        gap: 1rem;
        margin-bottom: 1rem;
        font-size: 0.9375rem;
        color: var(--gray-600);
        padding: 0.75rem;
        background: var(--gray-50);
        border-radius: 0.75rem;
        transition: all 0.3s;
    }

    .workshop-detail:hover {
        background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
        transform: translateX(5px);
    }

    .workshop-detail-icon {
        color: #667eea;
        width: 1.25rem;
        text-align: center;
        margin-top: 0.125rem;
    }

    .btn-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        font-weight: 600;
        position: relative;
        overflow: hidden;
    }

    .btn-primary::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
        transition: left 0.5s;
    }

    .btn-primary:hover::before {
        left: 100%;
    }

    .btn-primary:hover {
        box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        transform: translateY(-2px);
    }

    .info-card {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border: none;
        color: white;
        border-radius: 1.25rem;
    }

    .info-card .card-title {
        color: white;
    }

    .info-card ul li {
        background: rgba(255, 255, 255, 0.1);
        padding: 1rem;
        border-radius: 0.75rem;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .info-card ul li i {
        color: #84fab0;
    }

    .info-card ul li span {
        color: rgba(255, 255, 255, 0.95);
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <!-- Hero Section -->
    <div class="hero">
        <h1 class="hero-title">
            <i class="fas fa-flask"></i> Titanium Science Club Workshops
        </h1>
        <p class="hero-subtitle">
            Join us for exciting workshops in Science, Technology, and Innovation. Unlock your potential!
        </p>
    </div>

    <!-- Workshops Grid -->
    <div class="workshops-grid">
        {% for workshop in workshops %}
        <div class="workshop-card">
            <div class="workshop-header">
                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 0.5rem;">
                    <div class="workshop-meta">
                        {% if workshop.is_free %}
                        <span class="workshop-badge free">
                            <i class="fas fa-gift"></i> Free
                        </span>
                        {% else %}
                        <span class="workshop-badge paid">
                            <i class="fas fa-tag"></i> à§³{{ workshop.fee }}
                        </span>
                        {% endif %}

                        {% if workshop.available_slots > 0 %}
                        <span class="workshop-badge slots">
                            <i class="fas fa-users"></i> {{ workshop.available_slots }} slots
                        </span>
                        {% else %}
                        <span class="workshop-badge full">
                            <i class="fas fa-ban"></i> Full
                        </span>
                        {% endif %}
                    </div>
                </div>
                <h3 class="workshop-title">{{ workshop.name }}</h3>
            </div>

            <div class="workshop-body">
                <p style="color: var(--gray-600); margin-bottom: 1.5rem; line-height: 1.6;">
                    {{ workshop.description|truncatewords:30 }}
                </p>

                <div class="workshop-detail">
                    <i class="fas fa-calendar workshop-detail-icon"></i>
                    <div>
                        <strong>{{ workshop.workshop_date }}</strong>
                    </div>
                </div>

                <div class="workshop-detail">
                    <i class="fas fa-clock workshop-detail-icon"></i>
                    <div>
                        <strong>{{ workshop.time }}</strong>
                        {% if workshop.duration %}
                        <span class="text-muted">({{ workshop.duration }})</span>
                        {% endif %}
                    </div>
                </div>

                <div class="workshop-detail">
                    <i class="fas fa-map-marker-alt workshop-detail-icon"></i>
                    <div>
                        <strong>{{ workshop.venue }}</strong>
                    </div>
                </div>

                {% if workshop.organizer %}
                <div class="workshop-detail">
                    <i class="fas fa-user-tie workshop-detail-icon"></i>
                    <div>
                        <strong>{{ workshop.organizer }}</strong>
                    </div>
                </div>
                {% endif %}
            </div>

            <div class="workshop-footer">
                <div class="capacity-info">
                    <i class="fas fa-chart-pie"></i> {{ workshop.current_registrations }} / {{ workshop.capacity }}
                    registered
                </div>

                {% if workshop.is_full %}
                <button class="btn btn-outline" disabled>
                    <i class="fas fa-times-circle"></i> Full
                </button>
                {% elif not workshop.is_active %}
                <button class="btn btn-outline" disabled>
                    <i class="fas fa-lock"></i> Closed
                </button>
                {% else %}
                <a href="{% url 'register_workshop' workshop.id %}" class="btn btn-primary">
                    <i class="fas fa-rocket"></i> Register Now
                </a>
                {% endif %}
            </div>
        </div>
        {% empty %}
        <div class="card text-center" style="grid-column: 1 / -1; padding: 4rem;">
            <div class="card-body">
                <i class="fas fa-calendar" style="font-size: 3rem; color: var(--gray-300); margin-bottom: 1rem;"></i>
                <h3 style="color: var(--gray-900);">No Workshops Available</h3>
                <p class="text-muted">Check back soon for upcoming workshops.</p>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- Information Section -->
    <div class="card info-card" style="margin-top: 4rem;">
        <div class="card-header">
            <h3 class="card-title">
                <i class="fas fa-info-circle"></i> Important Information
            </h3>
        </div>
        <div class="card-body">
            <ul
                style="list-style: none; padding: 0; display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
                <li style="display: flex; gap: 0.75rem;">
                    <i class="fas fa-check" style="margin-top: 4px; font-size: 1.25rem;"></i>
                    <span style="font-weight: 500;">Open to students from Grade 2 to Grade 12</span>
                </li>
                <li style="display: flex; gap: 0.75rem;">
                    <i class="fas fa-check" style="margin-top: 4px; font-size: 1.25rem;"></i>
                    <span style="font-weight: 500;">Students from various schools are welcome</span>
                </li>
                <li style="display: flex; gap: 0.75rem;">
                    <i class="fas fa-check" style="margin-top: 4px; font-size: 1.25rem;"></i>
                    <span style="font-weight: 500;">Registration required for all workshops</span>
                </li>
                <li style="display: flex; gap: 0.75rem;">
                    <i class="fas fa-check" style="margin-top: 4px; font-size: 1.25rem;"></i>
                    <span style="font-weight: 500;">Instant email confirmation</span>
                </li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}